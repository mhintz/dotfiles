" Things to do:
" Set up NERDTree config options
" Read through spf13 vim config and apply the useful stuff from it
" Set up alt-delete and alt-movements in insert mode the way you like them
" Add comments explaining everything
" set up vim-one colors: https://github.com/rakr/vim-one
" set up vim-one tmux snd tmuxline support
" read this:
" http://homeonrails.com/2016/05/truecolor-in-gnome-terminal-tmux-and-neovim/
" set up vim-airline: https://github.com/vim-airline/vim-airline

execute pathogen#infect()
" generate documentation for all pathogen-installed plugins
" Helptags

" this might be unnecessary, but it's nice to be clear
set nocompatible

filetype plugin indent on
syntax on
set encoding=utf-8

" set up the theme and syntax highlighting
set t_8b=[48;2;%lu;%lu;%lum
set t_8f=[38;2;%lu;%lu;%lum

let g:one_allow_italics = 1

colorscheme one
set background=dark

let g:airline_theme='one'

" reloads when a file is changed in the background
set autoread

" incremental search
set incsearch
" highlighted search
" set hlsearch

set backspace=indent,eol,start
set whichwrap+=<,>

set autoindent

set backup

set history=50

set ruler
set showcmd
set number

set undodir=$HOME/.vim/.undo//
set backupdir=$HOME/.vim/.backup//
set directory^=$HOME/.vim/.swp//

set scrolloff=3

" allow files to be open as buffers without being visible 
set hidden

" plugin settings and commands
let g:ctrlp_show_hidden = 1
let g:ctrlp_working_path_mode = 'a'

" NERDTree Settings
nnoremap <C-o> :NERDTreeToggle<CR>
let g:NERDTreeWinSize=18
let g:NERDTreeShowHidden=1
autocmd vimenter * NERDTree | wincmd l
autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTree") && b:NERDTree.isTabTree()) | q | endif

" ack package settings
let g:ackprg = 'ag --vimgrep --smart-case'
cnoreabbrev ag Ack
cnoreabbrev aG Ack
cnoreabbrev Ag Ack
cnoreabbrev AG Ack

let mapleader = "-"

" manually reload vim config
nnoremap <leader>r :source ~/.vim/vimrc<CR> 

" use backspace to delete in normal mode
nnoremap <BS> X

" delete whole words with meta + backspace
nnoremap <M-BS> db
inoremap <M-BS> <C-O><M-BS>

" move between windows
nmap <M-j> <C-W>j
nmap <M-k> <C-W>k
nmap <M-l> <C-W>l
nmap <M-h> <C-W>h

" move between tabs
nnoremap <C-M-Left> :tabp<CR>
nnoremap <C-M-Right> :tabn<CR>

" scrolling
nnoremap <C-N> 5<C-E>5j
nnoremap <C-M> 5<C-Y>5k

nnoremap <C-j> 5j
nnoremap <C-k> 5k

" start / end of line movement
noremap <C-A> <Home>
noremap <C-E> <End>

inoremap <C-A> <Home>
inoremap <C-E> <End>

" move lines of text around vertically
nmap <C-M-j> mz:m+<cr>`z
nmap <C-M-k> mz:m-2<cr>`z
vmap <C-M-j> :m'>+<cr>`<my`>mzgv`yo`z
vmap <C-M-k> :m'<-2<cr>`>my`<mzgv`yo`z
